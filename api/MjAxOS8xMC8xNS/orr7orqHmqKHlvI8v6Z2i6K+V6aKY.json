{"title":"面试题示例","date":"2019-10-15T09:01:33.665Z","link":"2019/10/15/设计模式/面试题","tags":["设计模式","面试题"],"categories":["JS 设计模式","面试题"],"updated":"2019-10-16T07:35:44.774Z","content":"<h2 id=\"打车公司一面\">打车公司一面<a href=\"2019/10/15/设计模式/面试题#打车公司一面\"></a></h2><ul>\n<li>打车时，可以打专车或者快车。任何车都有车牌号和名称。</li>\n<li>不同车价格不同，快车每公里1元，专车每公里2元。</li>\n<li>行程开始时，显示车辆信息。</li>\n<li>行程结束时，显示打车金额（假定行程5公里）。</li>\n</ul>\n<p>考察面向对象、继承、设计抽象（设计模式）的能力</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 车辆信息</span></span><br><span class=\"line\">class Car &#123;</span><br><span class=\"line\">    constructor(number,name)&#123;</span><br><span class=\"line\">        this.number = number</span><br><span class=\"line\">        this.name = name</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 快车</span></span><br><span class=\"line\">class Kuai extends Car &#123;</span><br><span class=\"line\">    constructor(number,name,price)&#123;</span><br><span class=\"line\">        super(number,name)</span><br><span class=\"line\">        this.price = 1</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 专车</span></span><br><span class=\"line\">class Zhuan extends Car  &#123;</span><br><span class=\"line\">    constructor(number,name,price)&#123;</span><br><span class=\"line\">        super(number,name)</span><br><span class=\"line\">        this.price = 2</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 行程信息</span></span><br><span class=\"line\">class Trip &#123;</span><br><span class=\"line\">    constructor(car)&#123;</span><br><span class=\"line\">        this.car = car</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">start</span></span> ()&#123;</span><br><span class=\"line\">        console.log(`行程开始。车辆名称：<span class=\"variable\">$&#123;this.car.name&#125;</span>的车牌号为：<span class=\"variable\">$&#123;this.car.number&#125;</span>`)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">end</span></span> ()&#123;</span><br><span class=\"line\">        console.log(`行程结束。车辆名称：<span class=\"variable\">$&#123;this.car.name&#125;</span>的打车金额为<span class=\"variable\">$&#123;this.car.price*5&#125;</span>`)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">let</span> kuai = new Kuai(111,<span class=\"string\">'桑塔纳'</span>)</span><br><span class=\"line\"><span class=\"built_in\">let</span> zhaun = new Zhuan(222,<span class=\"string\">'奔驰'</span>)</span><br><span class=\"line\"><span class=\"built_in\">let</span> trip = new Trip(kuai)</span><br><span class=\"line\">trip.start()</span><br><span class=\"line\">trip.end()</span><br></pre></td></tr></table></div></figure>\n\n<h2 id=\"短视频公司三面\">短视频公司三面<a href=\"2019/10/15/设计模式/面试题#短视频公司三面\"></a></h2><ul>\n<li>某停车场，分三层，每层100个车位。</li>\n<li>每个车位都能监控到车辆的驶入和离开。</li>\n<li>车辆进入前，显示每层的空余车位数量。</li>\n<li>车辆进入时，摄像头可识别车牌号和时间。</li>\n<li>车辆出来时，出口显示器显示车牌号和停车时长。</li>\n</ul>\n<p>考察面向对象、继承、设计抽象（设计模式）的能力</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 出口显示器</span></span><br><span class=\"line\">class Screen &#123;</span><br><span class=\"line\">    show(number,time)&#123;</span><br><span class=\"line\">        <span class=\"comment\"># console.log(`车辆驶出，车牌号为$&#123;number&#125;,停车时长$&#123;Date.now() - time&#125;`)</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 摄像头</span></span><br><span class=\"line\">class Camera &#123;</span><br><span class=\"line\">    // 摄像头可识别车牌号和时间</span><br><span class=\"line\">    shot(car)&#123;</span><br><span class=\"line\">        console.log(`车辆正在驶入，车牌号为<span class=\"variable\">$&#123;car.number&#125;</span>`)</span><br><span class=\"line\">        <span class=\"built_in\">return</span> &#123;</span><br><span class=\"line\">            number:car.number,</span><br><span class=\"line\">            initTime:Date.now()</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 停车场</span></span><br><span class=\"line\">class Part &#123;</span><br><span class=\"line\">    constructor(floors)&#123;</span><br><span class=\"line\">        this.camera = new Camera();</span><br><span class=\"line\">        this.screen = new Screen();</span><br><span class=\"line\">        this.floor = floors || [];</span><br><span class=\"line\"></span><br><span class=\"line\">        this.carList = &#123;&#125;;</span><br><span class=\"line\">        this.floorNum = 0;</span><br><span class=\"line\">        this.floorIndex = 0;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 车辆进入前</span><br><span class=\"line\">    <span class=\"keyword\">in</span>(car)&#123;</span><br><span class=\"line\">        const info = this.camera.shot(car)</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(this.restPlacesNum()&gt;0)&#123;</span><br><span class=\"line\">            const place = this.floor[this.floorIndex].places[this.floorNum-1];</span><br><span class=\"line\">            // 车辆进入时</span><br><span class=\"line\">            place.in();</span><br><span class=\"line\">            info.place = place;</span><br><span class=\"line\">            this.carList[car.number] = info</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 车辆出来时</span><br><span class=\"line\">    out(car)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">let</span> info = this.carList[car.number];</span><br><span class=\"line\">        const place = info.place;</span><br><span class=\"line\">        place.out();</span><br><span class=\"line\">        </span><br><span class=\"line\">        // 出口显示器显示车牌号和停车时长</span><br><span class=\"line\">        this.screen.show(car.number,info.initTime)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // 停车场总剩余车位</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">restPlacesNum</span></span>()&#123;</span><br><span class=\"line\">        <span class=\"built_in\">let</span> count = 0;</span><br><span class=\"line\">        this.floor.map((f,i)=&gt;&#123;</span><br><span class=\"line\">            const placesNum = f.restPlacesNum(i)</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(placesNum&gt;0)&#123;</span><br><span class=\"line\">                count += placesNum;</span><br><span class=\"line\">                this.floorIndex = i;</span><br><span class=\"line\">                this.floorNum = placesNum;</span><br><span class=\"line\">                console.log(`第<span class=\"variable\">$&#123;i+1&#125;</span>层，剩余车位<span class=\"variable\">$&#123;placesNum&#125;</span>`)</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                console.log(`第<span class=\"variable\">$&#123;i+1&#125;</span>层车位已满。`)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"built_in\">return</span> count;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 楼层</span></span><br><span class=\"line\">class Floor &#123;</span><br><span class=\"line\">    constructor(whichFloor,places)&#123;</span><br><span class=\"line\">        this.whichFloor = whichFloor;</span><br><span class=\"line\">        this.places = places || [];</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 当前楼层剩余车位</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">restPlacesNum</span></span>()&#123;</span><br><span class=\"line\">        <span class=\"built_in\">let</span> num = 0;</span><br><span class=\"line\">        this.places.map((item)=&gt;&#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span>(item.empty)&#123;</span><br><span class=\"line\">                num++;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"built_in\">return</span> num</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 车位</span></span><br><span class=\"line\">class Places  &#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">constructor</span></span>()&#123;</span><br><span class=\"line\">        this.empty = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 每个车位都能监控到车辆的驶入。</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">in</span></span>()&#123;</span><br><span class=\"line\">        this.empty = <span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // 每个车位都能监控到车辆的离开。</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">out</span></span>()&#123;</span><br><span class=\"line\">        this.empty = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 车</span></span><br><span class=\"line\">class Car &#123;</span><br><span class=\"line\">    constructor (number) &#123;</span><br><span class=\"line\">        this.number = number;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 实例化</span></span><br><span class=\"line\"><span class=\"built_in\">let</span> floors = []</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"built_in\">let</span> i=0; i&lt;3; i++)&#123;</span><br><span class=\"line\">    <span class=\"built_in\">let</span> places = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(<span class=\"built_in\">let</span> j=0; j&lt;1; j++)&#123;</span><br><span class=\"line\">        places[j] = new Places();</span><br><span class=\"line\">    &#125; </span><br><span class=\"line\">    floors[i] = new Floor(i+1,places)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">const part = new Part(floors);</span><br><span class=\"line\">const car1 = new Car(<span class=\"string\">'111'</span>)</span><br><span class=\"line\">const car2 = new Car(<span class=\"string\">'222'</span>)</span><br><span class=\"line\">const car3 = new Car(<span class=\"string\">'333'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 方法调用</span></span><br><span class=\"line\">part.in(car1)</span><br><span class=\"line\">console.log(`\\n\\n`)</span><br><span class=\"line\">part.in(car2)</span><br><span class=\"line\">console.log(`\\n\\n`)</span><br><span class=\"line\">part.out(car1)</span><br><span class=\"line\">part.out(car2)</span><br><span class=\"line\">console.log(`\\n\\n`)</span><br><span class=\"line\">part.in(car3)</span><br></pre></td></tr></table></div></figure>","next":{"title":"五大设计原则（SOLID）","link":"2019/10/15/设计模式/设计原则"},"plink":"yibaobeiya.github.io/2019/10/15/设计模式/面试题/","toc":[{"title":"打车公司一面","id":"打车公司一面","index":"1"},{"title":"短视频公司三面","id":"短视频公司三面","index":"2"}]}